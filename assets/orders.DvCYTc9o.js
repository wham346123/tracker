import{r as m}from"./lucide.DWtWN2Z4.js";const c={autoSelectServer:!0,server:"ny",theme:"dark",lastActiveTab:"main",soundEffects:{enabled:!0,buySound:"none",sellSound:"none",consolidateSound:"none",splitSound:"none",buyVolume:.5,sellVolume:.5,consolidateVolume:.5,splitVolume:.5},keybinds:[{name:"quickBuyPreset1",primary:"",secondary:""},{name:"quickBuyPreset2",primary:"",secondary:""},{name:"quickBuyPreset3",primary:"",secondary:""},{name:"quickBuyPreset4",primary:"",secondary:""},{name:"quickBuyPreset5",primary:"",secondary:""},{name:"shitterToggle",primary:"",secondary:""}],wallets:[],customColors:[],transactions:{activePreset:"preset1",presets:{preset1:{name:"preset1",quickBuyFee:.0075,quickBuyTip:.0075,quickBuySlippage:100,quickBuyUseStaticTip:!1,utility:{fee:1e-4,tip:1e-4},isDynamicTipEnabled:!1,maxBuyTip:.001,maxSellTip:.001,doubleSendProtection:!0,transactionMode:"both",multisendMode:!1},preset2:{name:"Preset 2",quickBuyFee:.0075,quickBuyTip:.0075,quickBuySlippage:100,quickBuyUseStaticTip:!1,utility:{fee:1e-4,tip:1e-4},isDynamicTipEnabled:!1,maxBuyTip:.001,maxSellTip:.001,doubleSendProtection:!0,transactionMode:"both",multisendMode:!1},preset3:{name:"Preset 3",quickBuyFee:.0075,quickBuyTip:.0075,quickBuySlippage:100,quickBuyUseStaticTip:!1,utility:{fee:1e-4,tip:1e-4},isDynamicTipEnabled:!1,maxBuyTip:.001,maxSellTip:.001,doubleSendProtection:!0,transactionMode:"both",multisendMode:!1}}},platforms:{axiom:{features:{multiWallet:!0,presetsSupport:!1,shitterToggle:{enabled:!0,transactionsEnabled:!0},autoOpenChart:{enabled:!1,delay:200,focusTab:!0},quickSwap:!0,quickBuyPresets:{enabled:!1,amounts:[1,2,5],affectNewPairs:!0,affectFinalStretch:!0,affectMigrated:!0},quickWalletPresets:{enabled:!1},quickSwapTools:!1,autoBuy:{enabled:!1}},buttons:{expandBuyButton:{enabled:!1,width:220,height:45,opacity:1},expandSocialIcons:{enabled:!1,width:24,height:24},styleBuyButton:{enabled:!1,borderRadius:6,borderWidth:1,borderStyle:"solid"},styleSocialIcons:{enabled:!1,palette:"blue",borderRadius:6,borderWidth:1}},cleanup:{blacklistedSites:[],blacklistAction:"hide"}},photon:{cleanup:{blacklistedSites:[],migrationIndicator:{enabled:!1,currency:"USD"},blacklistAction:"hide"},buttons:{expandBuyButton:{enabled:!1,width:150,height:44},expandSocialIcons:{enabled:!1,width:32,height:32},styleBuyButton:{enabled:!1,palette:"blue",borderRadius:6,borderWidth:1,borderStyle:"solid",glowEffect:!1},styleSocialIcons:{enabled:!1,palette:"blue",borderRadius:6,borderWidth:1}},features:{multiWallet:!0,presetsSupport:!1,shitterToggle:{enabled:!0,transactionsEnabled:!0},quickSwap:!0,quickSwapTools:!1,quickSwapWallets:!0,quickBuyPresets:{enabled:!1,amounts:[1,2,5],affectGraduated:!0,affectGraduating:!0,affectNew:!0},autoOpenChart:{enabled:!1,delay:200,focusTab:!0},solPriceIndicator:{enabled:!1,currency:"USD"},livePnlTracker:{enabled:!1,opacity:1,showDollarAmounts:!0,showSolAmounts:!0},autoBuy:{enabled:!1},watchlistBuyButtons:{enabled:!1,buyAmount:.01}},style:{compactCards:!1,styleTokenCards:!1}}}},h=2e3,g={get(e){return new Promise(a=>{if(!chrome?.storage?.sync)return a(c);const t=setTimeout(()=>{a(c)},h);chrome.storage.sync.get(e,s=>{if(clearTimeout(t),chrome.runtime.lastError||!s||Object.keys(s).length===0)return a(c);a(b({...c},s))})})},set(e){return new Promise(a=>{if(!chrome?.storage?.sync)return a();const t=setTimeout(()=>{a()},h);chrome.storage.sync.set(e,()=>{if(clearTimeout(t),chrome.runtime.lastError)return a();a()})})},clear(){return new Promise(e=>{if(!chrome?.storage?.sync)return e();const a=setTimeout(()=>{e()},h);chrome.storage.sync.clear(()=>{if(clearTimeout(a),chrome.runtime.lastError)return e();e()})})}},w=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),b=(e,a)=>{const t=structuredClone(e);for(const[s,r]of Object.entries(a)){if(r==null)continue;const n=t[s];w(r)&&w(n)?t[s]=b(n,r):t[s]=r}return t},k=["lastActiveTab","platforms","autoSelectServer","server","theme","transactions","wallets","soundEffects","keybinds","customColors"];async function u(){try{const e=await g.get(k);return!e||Object.keys(e).length===0?{...c}:b({...c},e)}catch(e){return console.error("Failed to load settings:",e),{...c}}}const P=2e3;async function B(e){await fetch(e,{method:"HEAD",cache:"no-store"});const a=new AbortController,t=setTimeout(()=>a.abort(),P);try{const s=performance.now(),r=await fetch(e,{method:"HEAD",cache:"no-store",signal:a.signal});return clearTimeout(t),r.ok?{value:Math.round(performance.now()-s),error:!1}:(console.warn(`Server responded with ${r.status} for ${e}`),{value:null,error:!0})}catch(s){return clearTimeout(t),console.warn(`Latency check failed: ${s}`),{value:null,error:!0}}}const S=[{name:"Frankfurt 1",url:"https://fra1-trader.shitter.tech",id:"fra1",countryCode:"DE"},{name:"Frankfurt 2",url:"https://fra2-trader.shitter.tech",id:"fra2",countryCode:"DE"},{name:"Amsterdam",url:"https://ams-trader.shitter.tech",id:"ams",countryCode:"NL"},{name:"London",url:"https://lon-trader.shitter.tech",id:"lon",countryCode:"GB"},{name:"New York",url:"https://ny-trader.shitter.tech",id:"ny",countryCode:"US"},{name:"Salt Lake City",url:"https://slc-trader.shitter.tech",id:"slc",countryCode:"US"},{name:"Tokyo",url:"https://tyo-trader.shitter.tech",id:"tyo",countryCode:"JP"}],v=1e4;function E(){const[e,a]=m.useState({}),t=m.useCallback(async()=>{const s=await Promise.all(S.map(async r=>({id:r.id,result:await B(r.url)})));a(s.reduce((r,{id:n,result:l})=>(r[n]=l,r),{}))},[]);return m.useEffect(()=>{t();const s=setInterval(t,v);return()=>clearInterval(s)},[t]),e}function q(e){let a=null,t=1/0;for(const s of S){const r=e[s.id];if(!r||r.error||r.value===null)continue;const n=r.value;s.id==="slc"?n<20&&n<t&&(t=n,a=s):n<t&&(t=n,a=s)}return a}async function d(e){const a=S.find(t=>t.id===e.server);if(!a)throw new Error(`Server ${e.server} not found`);return a.url}async function p(e){const a=await u(),t=[];for(const s of e){const r=a.wallets.find(n=>n.publicKey===s);if(!r)throw new Error(`Missing wallet ${s} in config`);t.push(r.privateKey)}return t}async function f(e,a,t){const s=await fetch(`${e}${a}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),r=await s.json();if(!s.ok)throw new Error(r.message);return r.txids}async function C(e,a,t,s,r,n,l,i){const o=await u(),y=await p(e),T=await d(o);return f(T,"/trade/buy",{wallets:y,token_address:t,pool:a,buy_amount:s,fee:r,dynamic_fee:!1,jito_tip:n,dynamic_tip:i?!1:o.transactions.presets[o.transactions.activePreset].isDynamicTipEnabled,max_jito_tip:o.transactions.presets[o.transactions.activePreset].maxBuyTip,slippage_bps:Math.min(Math.floor(l*100),1e4),use_nodes:o.transactions.presets[o.transactions.activePreset].transactionMode==="rpc"||o.transactions.presets[o.transactions.activePreset].transactionMode==="both",use_jito:o.transactions.presets[o.transactions.activePreset].transactionMode==="jito"||o.transactions.presets[o.transactions.activePreset].transactionMode==="both",double_send_protection:o.transactions.presets[o.transactions.activePreset].doubleSendProtection})}async function M(e,a){const t=await u(),s=await p(e),r=await d(t);return f(r,"/trade/split",{wallets:s,token_address:a,fee:t.transactions.presets[t.transactions.activePreset].utility.fee,jito_tip:t.transactions.presets[t.transactions.activePreset].utility.tip})}async function j(e,a){const t=await u(),s=await p(e),r=await d(t);return f(r,"/trade/consolidate",{wallets:s,token_address:a,fee:t.transactions.presets[t.transactions.activePreset].utility.fee,jito_tip:t.transactions.presets[t.transactions.activePreset].utility.tip})}async function A(e,a,t,s,r,n,l){const i=await u(),o=await p(e),y=await d(i);return f(y,"/trade/sell",{wallets:o,token_address:t,pool:a,sell_percentage:s,fee:r,dynamic_fee:!1,jito_tip:n,dynamic_tip:i.transactions.presets[i.transactions.activePreset].isDynamicTipEnabled,max_jito_tip:i.transactions.presets[i.transactions.activePreset].maxSellTip,slippage_bps:Math.min(Math.floor(l*100),1e4),use_nodes:i.transactions.presets[i.transactions.activePreset].transactionMode==="rpc"||i.transactions.presets[i.transactions.activePreset].transactionMode==="both",use_jito:i.transactions.presets[i.transactions.activePreset].transactionMode==="jito"||i.transactions.presets[i.transactions.activePreset].transactionMode==="both"})}async function x(e,a,t,s){const r=await u(),n=await p([e]),l=await d(r);return fetch(`${l}/trade/burn`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({wallet:n[0],fee:a,jito_tip:t,...s!==void 0&&{burn_tokens:s}})})}export{k as S,b as a,x as b,S as c,c as d,q as e,C as f,u as g,A as h,M as i,j,B as m,g as s,E as u};
