(function(){const o=window.WebSocket,r=window.XMLHttpRequest;let e=null,n=null;function s(){window.WebSocket!==e&&(e=function(t,i){const p=i?new o(t,i):new o(t);return p.addEventListener("message",w=>{window.postMessage({type:"shitter-ws-intercept",url:t,data:w.data},"*")}),p},e.prototype=o.prototype,e.prototype.constructor=e,window.WebSocket=e)}function c(){window.XMLHttpRequest!==n&&(n=function(){const t=new r;return t.addEventListener("readystatechange",function(){t.readyState===4&&window.postMessage({type:"shitter-xhr-intercept",url:t.responseURL,status:t.status,data:t.response},"*")}),t},n.prototype=r.prototype,n.prototype.constructor=n,window.XMLHttpRequest=n)}s(),c(),setInterval(()=>{s(),c()},200)})();
